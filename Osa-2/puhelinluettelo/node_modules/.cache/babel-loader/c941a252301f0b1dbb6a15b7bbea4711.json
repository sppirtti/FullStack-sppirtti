{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Samuli\\\\FullStack\\\\Osa-2\\\\puhelinluettelo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import ReactDOM from'react-dom';import PersonForm from'./components/PersonForm';import ShowFilter from'./components/ShowFilter';import ListPeople from'./components/PersonAndListPeople';import'./index.css';import personService from'./services/Persons';var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),newFilter=_useState8[0],setNewFilter=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,1),showAll=_useState10[0];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),className=_useState14[0],setClassName=_useState14[1];useEffect(function(){personService.getAll().then(function(response){setPersons(response.data);});},[]);var handleNewName=function handleNewName(event){setNewName(event.target.value);};var handleNewNumber=function handleNewNumber(event){setNewNumber(event.target.value);};var handleFilter=function handleFilter(event){setNewFilter(event.target.value);};var removePerson=function removePerson(person){if(window.confirm(\"Delete \".concat(person.name,\" ?\"))){personService.remove(person.id).then(function(leftPersons){setPersons(persons.filter(function(p){return p.id!==person.id;}));});setMessage(\"Removed succesfully!\");setClassName('added');setTimeout(function(){setMessage(null);setClassName(null);},5000);}};var namesToShow=showAll?persons:persons.filter(function(person){return person.name.toLowerCase().includes(newFilter.toLowerCase());});var morePeople=function morePeople(event){event.preventDefault();var nameObject={name:newName,number:newNumber};if(persons.some(function(person){return person.name===nameObject.name;})){if(window.confirm(\"Update number for \".concat(newName,\" ? \"))){var tmp=persons.find(function(tmp){return tmp.name===newName;});personService.update(tmp.id,nameObject).then(function(response){setPersons(persons.map(function(person){return person.id!==tmp.id?person:response.data;}));setNewName('');setNewNumber('');setMessage('Updated Succesfully!');setClassName('added');setTimeout(function(){setMessage(null);setClassName(null);},5000);}).catch(function(error){setMessage('Person has been deleted!');setClassName('error');setTimeout(function(){setMessage(null);setClassName(null);},5000);});}}else{personService.create(nameObject).then(function(response){setPersons(persons.concat(response.data));setNewName('');setNewNumber('');}).catch(function(error){setClassName('error');setMessage(error.response.data.error);setTimeout(function(){setMessage(null);setClassName(null);},5000);});setMessage(\"\".concat(newName,\" added succesfully!\"));setClassName('added');setTimeout(function(){setMessage(null);setClassName(null);},5000);}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Phonebook\"),/*#__PURE__*/React.createElement(Notification,{message:message,className:className}),/*#__PURE__*/React.createElement(ShowFilter,{newFilter:newFilter,handleFilter:handleFilter}),/*#__PURE__*/React.createElement(\"h2\",null,\"Add A New Number\"),/*#__PURE__*/React.createElement(PersonForm,{newName:newName,handleNewName:handleNewName,newNumber:newNumber,handleNewNumber:handleNewNumber,morePeople:morePeople}),/*#__PURE__*/React.createElement(\"h2\",null,\"Numbers\"),/*#__PURE__*/React.createElement(ListPeople,{namesToShow:namesToShow,removePerson:removePerson}));};var Notification=function Notification(_ref){var message=_ref.message,className=_ref.className;if(message===null){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:className},message);};ReactDOM.render(/*#__PURE__*/React.createElement(App,null),document.getElementById('root'));","map":{"version":3,"sources":["C:/Users/Samuli/FullStack/Osa-2/puhelinluettelo/src/index.js"],"names":["React","useState","useEffect","ReactDOM","PersonForm","ShowFilter","ListPeople","personService","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","showAll","message","setMessage","className","setClassName","getAll","then","response","data","handleNewName","event","target","value","handleNewNumber","handleFilter","removePerson","person","window","confirm","name","remove","id","leftPersons","filter","p","setTimeout","namesToShow","toLowerCase","includes","morePeople","preventDefault","nameObject","number","some","tmp","find","update","map","catch","error","create","concat","Notification","render","document","getElementById"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport PersonForm from './components/PersonForm'\nimport ShowFilter from './components/ShowFilter'\nimport ListPeople from './components/PersonAndListPeople'\nimport './index.css'\n\nimport personService from './services/Persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [showAll] = useState(false)\n  const [message, setMessage] = useState(null)\n  const [className, setClassName] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n\n  }, [])\n\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const removePerson = (person) => {\n\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .remove(person.id)\n        .then(leftPersons => {\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n      setMessage(`Removed succesfully!`)\n      setClassName('added')\n      setTimeout(() => {\n        setMessage(null)\n        setClassName(null)\n      }, 5000)\n    }\n\n  }\n\n  const namesToShow = showAll\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n\n\n  const morePeople = (event) => {\n    event.preventDefault()\n\n    const nameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n\n    if (persons.some(person => person.name === nameObject.name)) {\n      if (window.confirm(`Update number for ${newName} ? `)) {\n        const tmp = persons.find(tmp => tmp.name === newName)\n        personService\n          .update(tmp.id, nameObject)\n\n          .then(response => {\n            setPersons(persons.map(person => person.id !== tmp.id ? person : response.data))\n            setNewName('')\n            setNewNumber('')\n            setMessage('Updated Succesfully!')\n            setClassName('added')\n\n            setTimeout(() => {\n              setMessage(null)\n              setClassName(null)\n            }, 5000);\n          })\n          .catch(error => {\n            setMessage('Person has been deleted!')\n            setClassName('error')\n            setTimeout(() => {\n              setMessage(null)\n              setClassName(null)\n            }, 5000);\n          })\n\n      }\n\n    } else {\n\n      personService\n        .create(nameObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setClassName('error')\n          setMessage(error.response.data.error)\n          setTimeout(() => {\n            setMessage(null)\n            setClassName(null)\n          }, 5000)\n        })\n      setMessage(\n        `${newName} added succesfully!`\n      )\n      setClassName('added')\n      setTimeout(() => {\n        setMessage(null)\n        setClassName(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} className={className} />\n\n      <ShowFilter newFilter={newFilter} handleFilter={handleFilter} />\n\n      <h2>Add A New Number</h2>\n\n      <PersonForm newName={newName} handleNewName={handleNewName}\n        newNumber={newNumber} handleNewNumber={handleNewNumber} morePeople={morePeople} />\n\n\n\n      <h2>Numbers</h2>\n\n      <ListPeople namesToShow={namesToShow} removePerson={removePerson} />\n    </div >\n  )\n}\n\nconst Notification = ({ message, className }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className={className}>\n      {message}\n    </div>\n  )\n}\n\n\nReactDOM.render(<App />, document.getElementById('root')) "]},"metadata":{},"sourceType":"module"}